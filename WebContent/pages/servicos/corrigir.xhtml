<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui"
	template="/include/template.xhtml">

	<ui:define name="conteudo">
		<h6 style="margin: 20px 0px 15px 10px">
			<a href="../index.jsf?faces-redirect=true"
				style="color: blue !important">Inicio</a> / Corrigir serviço
		</h6>
		
		<h4>Entidade:</h4>
		<h:outputText value="#{servicoMBean.servicoCorrigir.nomeEntidade}"/>
		<h4>Documentos:</h4>
		<h:form>
		<b:dataTable value="#{servicoMBean.servicoCorrigir.documentos}" var="documento" language="pt" paginated="false" searching="false" border="false">
		 <f:facet name="header">
		      <tr>
		      <th colspan="1" rowspan="1">Documento</th>
		      <th colspan="1">Status</th>
		      <th colspan="1"></th>
		      </tr>
		     
		   </f:facet>
				<b:dataTableColumn >
					<h:outputText value="#{documento.nome}" />
				</b:dataTableColumn>
				<b:dataTableColumn >
					<b:selectOneMenu value="#{documento.status}" style="margin-left:60px;margin-right:60px;">
						<f:selectItems value="#{servicoMBean.statusDocumento}" var="g" itemValue="#{g}" itemLabel="#{g.label}" />
					</b:selectOneMenu>
				</b:dataTableColumn>
				<b:dataTableColumn >
					<b:commandButton action="#{documentoMBean.download(documento)}" value="Download" look="primary"
						style="margin-right:10px;" /> 
					<b:button look="primary" onclick="$('.modalPseudoClass2').modal()" value="Corrigir"/>
					
					<b:modal id="amodal2" title="Adicionar observação" styleClass="modalPseudoClass2"
					           closable="false"  close-on-escape="false" backdrop="false">
					    <p>Observação:
					    </p>
					    <b:inputTextarea value="#{documento.observacao}">
					    </b:inputTextarea>
					    <f:facet name="footer"> 
					      <b:commandButton value="Fechar" dismiss="modal" />
					
					      <b:commandButton value="Corrigir" look="primary" dismiss="modal" action="#{documentoMBean.salvar(documento)}" /> 
					      
					    
					    </f:facet>
  					</b:modal>
				</b:dataTableColumn>

		</b:dataTable>
			<!-- 			<b:commandButton action="#{materialMBean.novoMaterial}" -->
			<!-- 						value="Novo Cadastro" look="primary" /> -->
			<!-- 			<b:commandButton action="/pages/index.jsf" -->
			<!-- 						value="Voltar" look="primary" /> -->
		</h:form>
	</ui:define>
</ui:composition>